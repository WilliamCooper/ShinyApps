<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 5.4.4.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changedby" content="Al Cooper"/>
	<meta name="changed" content="2017-12-24T01:08:22.270903373"/>
	<meta name="date" content="2017-04-22 15:43:00"/>
	<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"/>
	<meta name="src" content="RSessionsDataFrame.tex"/>
	<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
	<meta name="created" content="00:00:00">
	<style type="text/css">
		h2.cjk { font-family: "Source Han Sans CN Regular" }
		h2.ctl { font-family: "Lohit Devanagari" }
		h4.cjk { font-family: "Source Han Sans CN Regular" }
		h4.ctl { font-family: "Lohit Devanagari" }
		pre.cjk { font-family: "Nimbus Mono L", monospace }
		code.cjk { font-family: "Nimbus Mono L", monospace }
	</style>
</head>
<body lang="en-US" dir="ltr">
<p align="center" style="margin-top: 0.17in; page-break-after: avoid">
<font face="Albany, sans-serif"><font size="6" style="font-size: 28pt"><b>R
Objects</b></font></font></p>
<p align="center" style="margin-top: 0.04in; margin-bottom: 0.08in; page-break-after: avoid">
<font face="Albany, sans-serif"><font size="5" style="font-size: 18pt">with
focus on the data.frame</font></font></p>
<h4 class="western"><br/>
<br/>

</h4>
<h1><a name="x1-10000"></a>Some Basic Operations With data.frames</h1>
<h2 class="western">Simple plots</h2>
<pre class="western"><!--l. 655--><font size="2" style="font-size: 11pt">Let’s plot something, using ’plotWAC ()’ from Ranadu for convenience, although you can try the standard ’plot ()’ function from R base routines to see what differences there are. Load a data.frame, for example that listed below, and the try these <font face="Liberation Serif, serif">commands</font>. The results will not be included here, so it’s important to try these and ensure that these functions work before proceeding to the next session.</font>


<code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">Project &lt;- </font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">CSET</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code>
<code class="western"><font size="2" style="font-size: 11pt">Flight &lt;- 6</font></code>

<code class="western"><font size="2" style="font-size: 11pt">## getNetCDF defaults to the standardVariables() list, </font></code>
<code class="western"><font size="2" style="font-size: 11pt">## which includes ATX:</font></code>
<code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">Data &lt;- getNetCDF(sprintf(</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">%s%s/%srf%02d.nc</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">, DataDirectory(), Project, Project, Flight)) </font></font></font></code>

<code class="western"><font size="2" style="font-size: 11pt">## Try three possible ways of plotting.</font></code>
<code class="western"><font size="2" style="font-size: 11pt">## Each has many options to change color, line width and type, etc.</font></code>
<code class="western"><font size="2" style="font-size: 11pt">## There will be much more discussion of plotting in Session 5.</font></code>
<a name="textcolor252"></a><a name="textcolor253"></a><a name="textcolor254"></a><a name="textcolor255"></a><a name="textcolor256"></a><a name="textcolor257"></a><a name="textcolor258"></a><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">plotWAC(Data$Time, Data$ATX, ylab=</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">ATX</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">) </font></font></font></code>
<code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">plot (Data$Time, Data$ATX, ylab=</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">ATX</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">, type=</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">l</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">)</font></font></font></code>
<a name="rstudio_console_output"></a><code class="western"><font color="#0000ff"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">with(Data, ggplotWAC(data.frame(Time, ATX)))</font></font></font></code></pre><p align="left" style="margin-bottom: 0in">
<br/>

</p>
<p>-<!--l. 669--> 
</p>
<pre class="western"><code class="western">I</code><code class="western"><font size="2" style="font-size: 11pt">t is also useful to define special data.frames for constructing plots, especially when using the more advanced plotting capabilities provided by ’ggplot2’ (as in the third example above). To see a simple scatterplot, you can use the following: </font></code>
<a name="colorbox281"></a><a name="textcolor264"></a><a name="textcolor265"></a><a name="textcolor266"></a><a name="textcolor267"></a><a name="textcolor268"></a><a name="textcolor270"></a><a name="textcolor272"></a><a name="textcolor273"></a><a name="textcolor274"></a><a name="textcolor275"></a><a name="textcolor276"></a><a name="textcolor277"></a><a name="textcolor278"></a><a name="textcolor279"></a><code class="western"><font color="#000000"><!--l. 675--></code><code class="western"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">D &lt;- Data[, c(</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">ATX</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">, </font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">GGALT</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">&quot;</font></font></font></code><code class="western"><font color="#000000"><font face="DejaVu Sans Mono"><font size="2" style="font-size: 11pt">)] </font></font></font></code><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"><br/>
plot(D, pch=20) </font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt">     </font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"><i>#</i></font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"> </font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"><i>pch=20</i></font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"> </font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"><i>plots</i></font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"> </font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"><i>small</i></font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"> </font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"><i>solid</i></font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"> </font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"><i>dots</i></font></font><font face="Nimbus Sans L, sans-serif"><font size="2" style="font-size: 11pt"> </font></font></pre><p>
-<!--l. 684--> 
</p>
<h4 class="western">Exercise: See what happens if you instead include
three variables in the preceding data.frame D.<!--l. 687--> 
</h4>
<h2 class="western"><a name="x1-11000"></a>Exporting to Excel</h2>
<pre class="western"><code class="western"><font face="Liberation Sans, sans-serif"><font size="2" style="font-size: 11pt">With the R package xlsx (which may have to be installed on your system), you can easily export a data.frame to an Excel-format spreadsheet. Try this: </font></font></code>
<a name="textcolor284"></a><a name="textcolor285"></a><a name="textcolor286"></a><a name="textcolor287"></a><a name="textcolor288"></a><a name="textcolor289"></a><a name="textcolor290"></a><a name="textcolor291"></a><code class="western"><font face="Liberation Sans, sans-serif"><font size="2" style="font-size: 11pt">xlsx::write.xlsx (Data, file=&quot;Data.xlsx&quot;) </font></font></code>
<code class="western"><font face="Liberation Sans, sans-serif"><font size="2" style="font-size: 11pt">The syntax “xlsx::” means to use the xlsx package for the function that follows. You can also specify “library(xlsx)” earlier in the program and then omit this prefix, but it is often useful to use the :: syntax instead to avoid loading the entire library when you just need one instance of one function.</font></font></code>
</pre><p align="center">
– <font face="monospace">end of Session 2 – </font>
</p>
<p align="center" style="margin-bottom: 0in"><br/>

</p>
</body>
</html>